<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Elite Shot Leaderboard</title>

<style>
  body {
    font-family: "Orbitron", sans-serif;
    background: radial-gradient(circle at center, #0b1020 0%, #000 100%);
    color: #fff;
    margin: 0;
    padding: 0;
    text-align: center;
  }

  h1 {
    margin: 30px 0 10px;
    font-size: 2.6rem;
    letter-spacing: 2px;
    text-shadow: 0 0 25px #00ffcc;
  }

  .tabs {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 20px;
  }

  .tab {
    padding: 10px 20px;
    border-radius: 25px;
    cursor: pointer;
    font-weight: bold;
    background: rgba(255,255,255,0.1);
    box-shadow: 0 0 10px rgba(0,255,204,0.3);
    transition: 0.3s;
  }

  .tab.active {
    background: linear-gradient(90deg, #00ffcc, #00bfff);
    color: #000;
    box-shadow: 0 0 20px #00ffcc;
  }

  .board {
    width: 90%;
    max-width: 750px;
    margin: auto;
    background: rgba(255,255,255,0.05);
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0 0 25px rgba(0,255,204,0.25);
    backdrop-filter: blur(10px);
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
  }

  th, td {
    padding: 12px;
    text-align: center;
  }

  th {
    color: #00ffcc;
    border-bottom: 2px solid #00ffcc;
    text-shadow: 0 0 10px #00ffcc;
  }

  tr {
    transition: transform 0.2s;
  }

  tr:hover {
    transform: scale(1.02);
  }

  .controls {
    margin-bottom: 15px;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
  }

  input, button {
    padding: 10px;
    border-radius: 8px;
    border: none;
    font-size: 1rem;
  }

  input {
    background: rgba(255,255,255,0.1);
    color: #fff;
    width: 120px;
    text-align: center;
  }

  button {
    cursor: pointer;
    background: linear-gradient(90deg, #00ffcc, #00bfff);
    color: #000;
    font-weight: bold;
    box-shadow: 0 0 15px #00ffcc;
    transition: 0.3s;
  }

  button:hover {
    box-shadow: 0 0 25px #00ffcc;
  }

  .locked {
    font-size: 0.9rem;
    opacity: 0.7;
    margin-bottom: 10px;
  }

  footer {
    margin: 20px 0;
    opacity: 0.4;
    font-size: 0.85rem;
  }
</style>
</head>

<body>

<h1>üèÄ Elite Shot Leaderboard</h1>

<div class="tabs">
  <div class="tab active" onclick="switchYear(2025)">2025</div>
  <div class="tab" onclick="switchYear(2026)">2026</div>
</div>

<div class="board">

  <div id="controls" class="controls"></div>

  <table>
    <thead>
      <tr>
        <th>Rank</th>
        <th>Player</th>
        <th>Makes</th>
        <th>Attempts</th>
        <th>%</th>
      </tr>
    </thead>
    <tbody id="tbody"></tbody>
  </table>

</div>

<footer>Data stored locally ‚Ä¢ Export CSV for backup</footer>

<script>
/* =====================
   FROZEN 2025 DATA
   ===================== */
const leaderboard2025 = [
  // üîí Replace with final 2025 snapshot
  { name: "Player A", makes: 48, attempts: 75 },
  { name: "Player B", makes: 41, attempts: 70 },
  { name: "Player C", makes: 30, attempts: 65 }
];

/* =====================
   2026 LIVE DATA
   ===================== */
let leaderboard2026 = JSON.parse(localStorage.getItem("leaderboard_2026")) || [];

let currentYear = 2025;

function switchYear(year) {
  currentYear = year;
  document.querySelectorAll(".tab").forEach(t => t.classList.remove("active"));
  document.querySelector(`.tab:nth-child(${year === 2025 ? 1 : 2})`).classList.add("active");
  render();
}

function render() {
  const tbody = document.getElementById("tbody");
  const controls = document.getElementById("controls");
  tbody.innerHTML = "";
  controls.innerHTML = "";

  const data = currentYear === 2025 ? leaderboard2025 : leaderboard2026;

  if (currentYear === 2026) {
    controls.innerHTML = `
      <input id="name" placeholder="Player">
      <input id="makes" type="number" placeholder="Makes">
      <input id="attempts" type="number" placeholder="Attempts">
      <button onclick="addStats()">Add</button>
      <button onclick="exportCSV()">Export</button>
      <input type="file" id="file" accept=".csv" hidden onchange="importCSV(event)">
      <button onclick="document.getElementById('file').click()">Import</button>
      <button onclick="reset2026()">Reset</button>
    `;
  } else {
    controls.innerHTML = `<div class="locked">üîí 2025 Leaderboard is permanently sealed</div>`;
  }

  [...data].sort((a,b) => (b.makes/b.attempts) - (a.makes/a.attempts))
    .forEach((p,i) => {
      const pct = (p.makes / p.attempts) * 100;
      const hue = Math.min(120, Math.max(0, pct * 1.2));
      const row = document.createElement("tr");
      row.style.background = `hsl(${hue},70%,30%)`;
      row.innerHTML = `
        <td>${i+1}</td>
        <td>${p.name}</td>
        <td>${p.makes}</td>
        <td>${p.attempts}</td>
        <td>${pct.toFixed(1)}%</td>
      `;
      tbody.appendChild(row);
    });
}

function addStats() {
  const name = document.getElementById("name").value.trim();
  const makes = +document.getElementById("makes").value;
  const attempts = +document.getElementById("attempts").value;
  if (!name || makes < 0 || attempts <= 0) return;

  const p = leaderboard2026.find(x => x.name.toLowerCase() === name.toLowerCase());
  if (p) {
    p.makes += makes;
    p.attempts += attempts;
  } else {
    leaderboard2026.push({ name, makes, attempts });
  }

  localStorage.setItem("leaderboard_2026", JSON.stringify(leaderboard2026));
  render();
}

function reset2026() {
  if (confirm("Reset ALL 2026 stats?")) {
    leaderboard2026 = [];
    localStorage.removeItem("leaderboard_2026");
    render();
  }
}

function exportCSV() {
  let csv = "Player,Makes,Attempts\n";
  leaderboard2026.forEach(p => csv += `${p.name},${p.makes},${p.attempts}\n`);
  const blob = new Blob([csv], { type: "text/csv" });
  const a = document.createElement("a");
  a.href = URL.createObjectURL(blob);
  a.download = "leaderboard_2026.csv";
  a.click();
}

function importCSV(e) {
  const file = e.target.files[0];
  if (!file) return;
  const reader = new FileReader();
  reader.onload = () => {
    reader.result.split("\n").slice(1).forEach(l => {
      const [n,m,a] = l.split(",");
      if (n && m && a) {
        const p = leaderboard2026.find(x => x.name.toLowerCase() === n.toLowerCase());
        if (p) {
          p.makes += +m;
          p.attempts += +a;
        } else {
          leaderboard2026.push({ name:n, makes:+m, attempts:+a });
        }
      }
    });
    localStorage.setItem("leaderboard_2026", JSON.stringify(leaderboard2026));
    render();
  };
  reader.readAsText(file);
}

render();
</script>

</body>
</html>
